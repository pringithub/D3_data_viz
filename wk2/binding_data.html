<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>
	<button onclick="addNewClient()">Add</button>
	<button onclick="removeClient()">Remove</button>
	<div id="container"></div>	
</body>
<script src="https://d3js.org/d3.v4.min.js"></script>
<script>
	let container = d3.select("#container")
	let clients = [{
		Name: "Client0"
	}]
	let count = 1;

	function addNewClient() {
		clients.push({ Name: "Client" + count})
		count += 1
		showData(clients)
	}

	function removeClient() {
		clients = clients.slice(0, -1)
		count -= 1
		showData(clients)
	}

	function showData(clients) {
		let join = container
			.selectAll("div")
			.data(clients)
		join.enter()
			.append("div")
			.text(d => d.Name + " - New")
		

		//console.log(join.exit().data().length)
		// .exit() gets the elements from join/container that have been removed, .remove() removes them 
		join.exit().remove() 
		
		join.text(d => d.Name + " - Updated")
	}
	showData(clients)



</script>

</html>